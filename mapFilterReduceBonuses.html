<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
<h1>Map Filter Reduce</h1>
<script>
    // # Map, Filter, and Reduce

    // Use the code below to complete the following problems


    const fruits = ["cantaloupe", "orange", "date", "elderberry", "ugli fruit", "pineapple"];

    const customers = [
        {
            name: "Fred",
            age: 58,
            occupation: "Police Officer",
            noOfPurchases: 4
        },
        {
            name: "Samantha",
            age: 54,
            occupation: "Teacher",
            noOfPurchases: 18
        },
        {
            name: "Charles",
            age: 38,
            occupation: "Librarian",
            noOfPurchases: 9
        }
    ];

    const pets = [
        {
            name: 'Bud',
            age: 2,
            breed: 'Pug'
        },
        {
            name: 'Gabby',
            age: 10,
            breed: 'Retriever'
        },
        {
            name: 'Fred',
            age: 1,
            breed: 'Lab'
        },
        {
            name: 'Bowser',
            age: 2,
            breed: 'Pug'
        }
    ];

    const family = [
        {
            name: "Pam",
            gender: "female",
            age: 29,
        },
        {
            name: "Amelie",
            gender: "female",
            age: 10,
        },
        {
            name: "Justin",
            gender: "male",
            age: 32,
        },
    ];

    console.log('it works')
    // Use map, filter, and reduce to:

    // 1. Create an array of the first letters of each fruit
    const firstLetter = fruits.map(fruit => fruit.charAt(0));
    console.log(firstLetter)

    // 2. Create array of user objects based on the customers array of objects (each
    //    user object should just have name and age properties)
    const custNameAndAge = customers.map(({name, age}) => ({name, age}))
    console.log(custNameAndAge)
    // 3. Create an array of civil servant customers (teachers and police officers)
    //    containing the same properties as the objects on the customers objects
    const civilServants = customers.filter(({occupation}) => occupation === 'Teacher' || occupation === 'Police Officer')
    console.log(civilServants);

    // 4. Determine the average age of all the customers

    const averageAge = arr => {
        const sum = arr.reduce((acc, { age }) => acc + age, 0)
        return sum / arr.length
    }
    console.log(averageAge(customers));

    // 5. Create a function `makeSuperPet()` that takes in the pets array as input and
    //    returns a single pet object with the following shape...
    // {
    //     name: ALL_PET_NAMES_CONCATENATED_INTO_A_SINGLE_STRING,
    //     age: THE_TOTAL_OF_ALL_PET_AGES,
    //     breed: THE_FIRST_LETTERS_OF_ALL_PET_BREEDS_CONCATENATATED_INTO_A_SINGLE_STRING
    // }
    const makeSuperPet = obj => {
        let newName = pets.reduce((acc, { name }) => acc + name, '');
        let petAge = pets.reduce((acc, { age }) => acc + age, 0);
        let petBreed = pets.reduce((acc, { breed }) => acc + breed[0], '')
        return {
            name: newName,
            age: petAge,
            breed: petBreed
        }
    }
    console.log(makeSuperPet(pets));

    // 1. Create a function that takes in an array of pets and returns an array of the
    //    length of first names for pugs only. Your output for the given input should
    //    be [3, 6] for 'Bud' and 'Bowser'
    const petNameLength = pets.filter(({breed}) => breed === 'Pug')
    .reduce((acc, {name}) => acc.concat(name.length), []);
    console.log(petNameLength);

    // 2. Create a function `getFemaleFamilyMembers()` that when given the family
    //    variable as an argument, returns an array of female family member names
    const getFemaleFamilyMembers = family.filter(({gender}) => gender === 'female')
    .reduce((acc, {name}) => acc.concat(name), [])
    console.log(getFemaleFamilyMembers)

    // 3. Create a function `makeLongPetString()` that when given the variable of pets,
    //    returns a string of all property values with dashes separating each property
    //    value

    const makeLongPetString = pets.reduce((acc, { name, age, breed, }) => acc.concat(`${name}-${age}-${breed}-`), '').slice(0, -1)
    console.log(makeLongPetString);
    // 4. Create a function that when given an array of first names, returns an array
    //    of the same names with a last name of Smith
    input = ['Sally', 'Fred', 'Steve']
    // output = ['Sally Smith', 'Fred Smith', 'Steve']
    const addLastName = arr => arr.reduce((acc, element) => acc.concat(`${element} Smith`), [])
    console.log(addLastName(input));

</script>
</body>
</html>